<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>          
    
    
         <record model="ir.ui.view" id="view_contract_loan_form">
            <field name="name">Contract</field>
            <field name="model">contract.loan</field>
            <field name="arch" type="xml">   
                <form string="Contract">  
                  <header>
                    <button name='view_invoice' string='View Invoice' type='object' attrs="{'invisible':[('invoiced', '=', False)]}"/>
                    <button name='action_run' string='Run' states='draft' type='object'/>
                    <button name='action_done' string='Complete' states='running' type='object'/>
                    <field name='state' widget='statusbar' readonly='1'/>
                     
                   </header>                  
                                 
                      <sheet>
                      
                        <div class="oe_title">
                            <label for="name"/>
                            <h1><field name="name"/></h1>
                        </div>
                       <group>
                            <group>
                                <field name='invoiced' invisible='1'/>     
                                <field name='type' invisible='1'/>                           
                                <field name= 'partner_id'/>                              
                                <field name= 'emirates_id'/>
                                <field name= 'company_name'/>
                                <field name= 'address'/>
                                <field name= 'address1'/>
                                <field name='city'/>
                                <field name='state_id'/>
                                <field name='country_id'/>
                                <field name= 'plan_id' domain="[('type', '=', type)]"/>
                            </group>
                             <group> 
                                <field name= 'type' invisible='1'/> 
                                <field name='date'/> 
                                <field name= 'gender'/>      
                                <field name= 'dob'/>                      
                                <field name= 'mobile'/>
                                <field name= 'email'/>
                                <field name= 'occupation'/> 
                                <field name= 'manager_id'/>
                                <field name= 'company_id' widget="selection" groups="base.group_multi_company"/>
                                <!-- <button name='dummy' type='object' string='dummy'/> -->
                           </group>                                                                                             
                       </group>
                       
                       <group string='Passport Details'>
                          <group>   
                            <field name= 'passport_no'/>
                            <field name= 'passport_issue_date'/>
                          </group>
                          <group>      
                            <field name= 'country_issue'/>
                            <field name= 'expiry_date'/>   
                          </group>  
                       </group>
                       
                     <notebook>
                        <page string='Products'>
                            <seperator string ='Free Products'/>
                            <label for='free_items'/>
                             <field name='free_items' context="{'default_type':'free'}" domain="[('plan_id', '=', plan_id), ('type', '=', 'free')]">
                                <tree editable='bottom'>
                                    <field name='product_id'/>
                                    <field name='name'/>
                                    <field name='quantity'/>
                                </tree>
                             </field>
                             <seperator string ='Paid Products'/>  
                             <label for='paid_items'/>
                             <field name='paid_items' context="{'default_type':'paid'}" domain="[('plan_id', '=', plan_id), ('type', '=', 'paid')]">
                                <tree editable='bottom'>
                                    <field name='product_id'/>
                                    <field name='name'/>
                                    <field name='quantity'/>
                                </tree>
                             </field> 

                             <field name='description' placeholder='Put your Description here'/>   
                              <field name='next_invoice_date'/>
                             <field name='invoice_rule'/>                    
                        </page>  
                        <page string='References'>
                           <group>
                              <group>
                                <field name='uae_reference1'/>
                                <field name='ph_no_uae1'/>
                                <field name='contact_address1'/>
                              </group>
                              <group>
                                <field name='uae_reference2'/>
                                <field name='ph_no_uae2'/>       
                                 <field name='contact_address2'/>                       
                              </group>
                        
                           </group>
                        </page>  
                        
                        
                        
                        <page string='References International'>
                           <group>
                              <group>
                                <field name='int_reference1'/>
                                <field name='ph_no_int1'/>
                                <field name='contact_address_international1'/>
                                
                              </group>
                              <group>
                                <field name='int_reference2'/>
                                <field name='ph_no_int1'/> 
                               <field name='contact_address2'/>   
                               <field name='contact_address_international2'/>                             
                              </group>
                        
                           </group>
                        </page>  
                        
                     </notebook>
                 </sheet>
                 <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
            </field>
         </record>    


    
         
         <record model="ir.ui.view" id="view_contract_loan_tree">
            <field name="name">Contract</field>
            <field name="model">contract.loan</field>
            <field name="arch" type="xml">
                <tree string="Contracts">
                    <field name="name"/>
                    <field name= 'plan_id'/>
                    <field name= 'partner_id'/>
                    <field name= 'company_name'/>
                    <field name= 'occupation'/> 
                    <field name= 'passport_no'/>
                     
                     
                </tree>
            </field>
        </record>
        
            <record model="ir.ui.view" id="view_loan_tree">
            <field name="name">Contract</field>
            <field name="model">contract.loan</field>
            <field name="arch" type="xml">
                <tree string="Loans">
                    <field name="name"/>
                    <field name= 'plan_id'/>
                    <field name= 'partner_id'/>
                    <field name= 'company_name'/>
                    <field name= 'occupation'/> 
                    <field name= 'passport_no'/>
                     
                     
                </tree>
            </field>
        </record>
        
    <record model="ir.ui.view" id="view_contract_plan_form">
        <field name="name">Contract</field>
        <field name="model">contract.plan</field>
        <field name="arch" type="xml">   
            <form string="Contract Plan">  
              <sheet>
                  <group>
                    <field name="name"/>
                    <field name= 'amount'/>
                    <field name= 'duration'/>
                    <field name= 'type' invisible='0'/>
                  </group>
                
                  <field name= 'free_items' context="{'default_type':'free'}">
                      <tree editable='bottom'>
                          <field name='product_id'/>
                          <field name='name'/>
                          <field name='quantity'/>
                          <field name='type'/>
                      </tree>
                  </field> 
                  <field name= 'paid_items' context="{'default_type':'paid'}">
                      <tree editable='bottom'>
                          <field name='product_id'/>
                          <field name='name'/>
                          <field name='quantity'/>
                          <field name='type'/>
                      </tree>
                  </field> 
              </sheet>
            </form>
        </field>
     </record> 


         
         
         
         <record model="ir.ui.view" id="view_contract_plan_tree">
            <field name="name">Contract Plan</field>
            <field name="model">contract.plan</field>
            <field name="arch" type="xml">
                <tree string="Loans">
                    <field name="name"/>
                    <field name= 'amount'/>
                    <field name= 'duration'/>                                          
                </tree>
            </field>
        </record>
        
        
        
       <record id="act_contract_plan" model="ir.actions.act_window">
            <field name="res_model">contract.plan</field>
            <field name="view_type">form</field>
            <field name="name">Contract Plans</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','contract')]</field>
            <field name="context">{'default_type': 'contract'}</field>
        </record>
        
        
       <record id="act_loan_plan" model="ir.actions.act_window">
            <field name="res_model">contract.plan</field>
            <field name="view_type">form</field>
            <field name="name">Contract Plans</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','loan')]</field>
            <field name="context">{'default_type': 'loan'}</field>
        </record>
         
         
       <record id="act_contract_loan" model="ir.actions.act_window">
            <field name="res_model">contract.loan</field>
            <field name="view_type">form</field>
            <field name="name">Contract</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','contract')]</field>
            <field name="context">{'default_type': 'contract'}</field>
        </record>
         
         
        
        
        
         <record id="act_loan" model="ir.actions.act_window">
            <field name="res_model">contract.loan</field>
            <field name="view_type">form</field>
            <field name="name">Loan</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','loan')]</field>
            <field name="context">{'default_type': 'loan'}</field>
        </record>
         
    
    </data>
</openerp>    
